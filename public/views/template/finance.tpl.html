<html>

<head>
    <meta charset="utf-8">

    <script type="text/javascript">

        var test = function init() {
            var el = document.getElementById('test');
            el.addEventListener('click', function (event) {
                console.log(event.type + ' got fired')
//	            document.myForm.submit();
            })
        };

        function ready(fn) {
            if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
                fn();
            } else {
                document.addEventListener('DOMContentLoaded', fn);
            }
        }

        ready(test);

        window.onload = function() {
            console.log('onload 1');
        }

        function changeItemType(el, type) {
            window.location.href = 'http://localhost/finance?item_type=' + type;
        }
    </script>

</head>

<body>
<h1>＊＊：<?php echo $str; ?></h1>

<form action="finance" name="myForm" method="POST">
<table>
    <tbody>
        <tr>
            <th colspan="1" rowspan="1" style="width:15%;" class="input_ico">収支</th>
            <td colspan="3" rowspan="1">
                <?php if($item_type == 'input') { ?>
                    <input type="radio" id="type1" name="contents:form:type" value="1" title="支出" onChange="changeItemType(this, 'output')">
                <?php } else { ?>
                    <input type="radio" id="type1" name="contents:form:type" checked="checked" value="1" title="支出" onChange="changeItemType(this, 'output')">
                <?php } ?>

                <label for="type1">支出</label>
                <br clear="none">

                <?php if($item_type == 'input') { ?>
                    <input type="radio" id="type2" name="contents:form:type" checked="checked" value="2" title="収入" onChange="changeItemType(this, 'input')">
                <?php } else { ?>
                    <input type="radio" id="type2" name="contents:form:type" value="2" title="収入" onChange="changeItemType(this, 'input')">
                <?php } ?>

                <label for="type2">収入</label>
                <br clear="none">
                <div id="typeMessage"></div>
            </td>
        </tr>
        <tr>
            <th colspan="1" rowspan="1">
                <div class="input_ico_must">日付</div>
            </th>
            <td colspan="3" rowspan="1">
                <input type="date" id="date" name="contents:form:date" class="flat imedisable" title="日付" maxlength="10" size="10">
            </td>
        </tr>
        <tr>
            <th colspan="1" rowspan="1">
                <div class="input_ico_must">項目</div>
            </th>
            <td colspan="1" rowspan="1" width="33%">
                <select id="categoryID" name="contents:form:categoryID" size="10" class="flat" title="項目" onchange="onChange_categoryID(this);" style="width:210px">
                    <?php
                        foreach($items as $key => $value) {
                          echo '<option value="">'.$value. '</option>';
                        }
                    ?>
                </select>
            </td>
        </tr>
        <tr id="productFrame" class="">
            <th colspan="1" rowspan="1" id="productLabel" class="input_ico">品目</th>
            <td colspan="3" rowspan="1"><input type="text" id="product" name="contents:form:product" value="" class="flat imeon ac_input" title="商品名" maxlength="100" size="50" autocomplete="off">
            <div id="productMessage"></div>
            </div>
            </td>
        </tr>
        <tr>
            <th colspan="1" rowspan="1">
                <div class="input_ico_must">金額</div>
            </th>
            <td colspan="3" rowspan="1">
                <input type="text" id="amount" name="contents:form:amount" value="" onfocus="Teeda.THtmlInputCommaText.removeComma(this, ',');this.select();" onblur="onBlur_amount(this);Teeda.THtmlInputCommaText.convertByKey(this);Teeda.THtmlInputCommaText.addComma(this, 2, ',', '.');" onkeydown="return Teeda.THtmlInputCommaText.keycheckForNumber(event, this, 2, '.');" onkeypress="return Teeda.THtmlInputCommaText.keycheckForNumber(event, this, 2, '.');" onkeyup="Teeda.THtmlInputCommaText.convertByKey(this);" style="ime-mode:disabled;" class="T_currency flat textRight" onmouseup="setTimeout(function(){select()},0);" title="金額" maxlength="11" size="12">
            </td>
            <div id="amountMessage"></div>

        <tr>
            <th colspan="1" rowspan="1" style="width:15%;" class=""></th>
            <td colspan="3" rowspan="1">
                <button type='submit' id="test">登録</button>
            </td>
        </tr>
    </tbody>
</table>
</form>


</body>

</html>